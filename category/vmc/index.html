<!DOCTYPE html>
<html lang="en">
<head>
    <title>Blog - Iron Foundry</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<link href="/stylesheets/bootstrap.css" rel="stylesheet">
<script type="text/javascript" src="http://use.typekit.net/xvy7ell.js"></script> <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4936699-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>

<div id="wrap">
    <header class="header-short backsplash blog">
        <div class="container menu">
            <div class="navbar">
  <div class="container">
  	<!-- .navbar-toggle is used as the toggle for collapsed navbar content -->
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <div class="navbar-brand"><a href="/"><img src="/img/logo-ironfoundry.png" alt="Iron Foundry" /></a></div>
    <div class="nav-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav menu pull-right">
          
            
            
            

            <li class="">
              <a href="http://app.ironfoundry.me/download">Downloads</a>
            </li>
          
            
            
            

            <li class="">
              <a href="http://app.ironfoundry.me/signup">Sign Up</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/blog">Blog</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/help">Help</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/about">About</a>
            </li>
          
          <li class="fork"><iframe src="http://ghbtns.com/github-btn.html?user=IronFoundry&repo=IronFoundry&type=fork&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="81" height="31"></iframe></li>
      </ul>
    </div>
  </div>
</div>
        </div>
        <div class="container">
            <div class="row hero">
                <h1 class="text-center">BLOG</h1>
            </div>
        </div>
        <div class="container photo-credit hidden-xs">
            <div class="photo-author">photo by Nathan Young</div>
        </div>
    </header>
        
    <div class="container content-container">
        <div class="row">
    <div class="col-lg-10">
		
			<h2>Category: 'vmc'</h2>		
		
		<hr />

        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/02/28/micro-iron-foundry-image-updated-and-ready-for-use/">Micro Iron Foundry Image Updated and Ready for Use</a></h2>
                    <div class="post-date">
                        Posted in dea.net, iron foundry, micro iron instance, vmc,  &#183; February 28, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p><a href="http://ironfoundry.org/download" target="_blank">Micro Iron Foundry</a> is a VM image that makes it easy to add the .NET DEA to <a href="https://micro.cloudfoundry.com/" target="_blank">Micro Cloud Foundry</a> development environments. This powerful combination helps developers design their Cloud Foundry solutions locally before pushing to any number of public hosting providers.</p>

</p>
                    <a href="/2013/02/28/micro-iron-foundry-image-updated-and-ready-for-use/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/10/10/ironfoundry-me-environment-now-running-latest-iron-foundry-bits/">IronFoundry.ME Environment Now Running Latest Iron Foundry Bits</a></h2>
                    <div class="post-date">
                        Posted in iron foundry, test environment, vmc,  &#183; October 10, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>Last weekend, we <a href="http://blog.ironfoundry.org/2012/10/weekend-iron-foundry-work-downtime-window/" target="_blank">did a refresh</a> of the sandbox <a href="http://api.ironfoundry.me/" target="_blank">IronFoundry.ME</a> environment to make sure that it was running the latest Iron Foundry bits. As part of that update, we've enabled and upgraded a few interesting things.

</p>
                    <a href="/2012/10/10/ironfoundry-me-environment-now-running-latest-iron-foundry-bits/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/09/26/administering-postgresql-and-mysql-application-instances-in-iron-foundry/">Managing PostgreSQL and MySQL Application Instances in Iron Foundry</a></h2>
                    <div class="post-date">
                        Posted in how to guide, iron foundry, release, vmc,  &#183; September 26, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>One reasonable concern with PaaS platforms is whether or not developers can easily access and administer backend application services. Iron Foundry database services such as PostgreSQL and MySQL have very strong management tools that you don't want to abandon when working with a PaaS instance. In this post, we'll look at how to wire up existing database management tools to PostgreSQL and MySQL.
<h2>PostgreSQL</h2>
PostgreSQL (discussed in this <a href="http://blog.ironfoundry.org/2012/08/choosing-the-right-database-option-for-your-iron-foundry-applications/" target="_blank">previous Iron Foundry blog post</a>), is a very popular open source database. Developers or database administrators typically use the <a href="http://www.pgadmin.org/" target="_blank">pgAdmin tool</a> to author and debug <a href="http://www.pgadmin.org/docs/1.16/query.html" target="_blank">queries</a>, perform database <a href="http://www.pgadmin.org/docs/1.16/backup.html" target="_blank">backups</a>/<a href="http://www.pgadmin.org/docs/1.16/restore.html" target="_blank">restorations</a>, <a href="http://www.pgadmin.org/docs/1.16/maintenance.html" target="_blank">reindex and cleanup (VACUUM) data</a>,  manage <a href="http://www.pgadmin.org/docs/1.16/pgagent-jobs.html" target="_blank">server jobs</a>, and much more.

You can download the pgAdmin tool <a href="http://www.pgadmin.org/download/" target="_blank">directly</a>, or find it included in the <a href="http://www.enterprisedb.com/products-services-training/pgdownload" target="_blank">PostgreSQL package</a> itself. For this demonstration, I installed PostgreSQL locally and got the pgAdmin tool along with it. After installing the database software, I opened a command prompt on my Windows machine and targeted my Iron Foundry environment.

<img class="alignnone size-full wp-image-152" title="dbadmin01" src="/img/blog/dbadmin01.png" alt="" width="450" height="289" />

After authenticating myself, I issued a vmc command ("<strong>vmc services</strong>") to see which application services were available, and which services I had already provisioned.

<img class="alignnone size-full wp-image-153" title="dbadmin02" src="/img/blog/dbadmin02.png" alt="" width="450" height="242" />

So far, no application services were provisioned. Let's change that. I created a new PostgreSQL instance by issuing the vmc command <strong>vmc create-service postgresql</strong>. Note that I didn't need to bind it to an application and can simply create a standalone instance that could be used by many Iron Foundry web applications.

<img class="alignnone size-full wp-image-154" title="dbadmin03" src="/img/blog/dbadmin03.png" alt="" width="450" height="303" />

Now there was a running instance of PostgreSQL in my environment. At this stage, there was no way for the pgAdmin tool to access this instance. However, thanks to the Cloud Foundry <a href="http://blog.ironfoundry.org/2012/04/caldecott-with-ms-sql-server/" target="_blank">Caldecott</a> technology, I could create a secure tunnel for pgAdmin. The <strong>vmc tunnel &lt;instance name&gt;</strong> command opens up a port that pgAdmin can use to administer that database server.

<img class="alignnone size-full wp-image-155" title="dbadmin04" src="/img/blog/dbadmin04.png" alt="" width="450" height="284" />

I could have chosen to use the psql client which would have let me issue commands right here in the command prompt, but since I wanted to use the full-featured pgAdmin tool, I selected the "none" client. Notice that I got four key pieces of information back: username, password, name and port. Together, these data points will get us logged into our environment.

I opened the pgAdmin tool and could see that the only server currently recognized was the one on my local machine.

<img class="alignnone size-full wp-image-156" title="dbadmin05" src="/img/blog/dbadmin05.png" alt="" width="450" height="330" />

I clicked the "Add a connection to a server" and was shown the "New Server Registration" prompt. For the "Name" value, I used the "name" that came back from the tunnel command; for "Host" value I set it to "localhost"; for the "Port" I used "10000"; and for the Username and Password, I used the corresponding values returned by the tunnel command.

<img class="alignnone size-full wp-image-157" title="dbadmin06" src="/img/blog/dbadmin06.png" alt="" width="450" height="470" />

Once connected, I could navigate all the database artifacts and browse the standard options for backing up data, querying tables, and creating new tables.

<img class="alignnone size-full wp-image-158" title="dbadmin07" src="/img/blog/dbadmin07.png" alt="" width="450" height="330" />

The pgAdmin tool is a very handy and useful way to manage your database artifacts and Iron Foundry makes it easy to use this tool against your application services.
<h2>MySQL</h2>
MySQL is also a very popular open source database and we want to make sure that database developers and administrators can use familiar tooling even if their application instance sits in a PaaS like Iron Foundry.

The MySQL team has made significant investments in their Workbench tool, and here we'll see exactly how you hook the Workbench up to an Iron Foundry instance. First, I downloaded the<a href="http://dev.mysql.com/downloads/workbench/5.2.html" target="_blank"> standalone Workbench tool</a>.

Then, I added a new MySQL instance to my Iron Foundry environment by using the <strong>vmc create-service mysql</strong> command.

<img class="alignnone size-full wp-image-159" title="dbadmin08" src="/img/blog/dbadmin08.png" alt="" width="450" height="312" />

Like the PostgreSQL example prior, I created a tunnel so that the MySQL Workbench tool could "see" our Iron Foundry instance. As before, I also chose the "none" client so that I could connect the GUI tool instead of issuing command statements only.

<img class="alignnone size-full wp-image-162" title="dbadmin09" src="/img/blog/dbadmin091.png" alt="" width="450" height="300" />

Notice that I got back database credentials ("username"/"password"), a schema instance name ("name"), and a port number.

I was now ready to connect the MySQL Workbench to my database instance. The Workbench has three core functions: <a href="http://dev.mysql.com/doc/workbench/en/wb-sql-development.html" target="_blank">SQL development</a>, <a href="http://dev.mysql.com/doc/workbench/en/wb-data-modeling.html" target="_blank">data modeling</a>, and <a href="http://dev.mysql.com/doc/workbench/en/wb-server-administration.html" target="_blank">server administration</a>.

<img class="alignnone size-full wp-image-161" title="dbadmin10" src="/img/blog/dbadmin10.png" alt="" width="450" height="328" />

In this example, I created a new pair of tables, and deployed them to the database instance in Iron Foundry. In the Workbench, I clicked the "Create New EER Model" in order to generate a data model. The first thing that I did was right-click the schema name and choose "Edit Schema." On the subsequent window, I changed the default "mydb" name to the the "name" value returned by the vmc tunnel command.

<img class="alignnone size-full wp-image-163" title="dbadmin11" src="/img/blog/dbadmin11.png" alt="" width="450" height="328" />

I then chose to add a new diagram to the model and proceeded to create a pair of new tables, "customer" and "order", and defined a relationship between them.

<img class="alignnone size-full wp-image-164" title="dbadmin12" src="/img/blog/dbadmin12.png" alt="" width="450" height="494" />

With the model complete, I chose the "Forward Engineer" option so that this model could be used to generate the actual tables.

<img class="alignnone size-full wp-image-165" title="dbadmin13" src="/img/blog/dbadmin13.png" alt="" width="450" height="267" />

I was then prompted to create an actual connection to the target database, and this is where the tunnel-provided values came into play. I plugged in the username and password, and set the Hostname value to "localhost" and the Default Schema to the tunnel-provided "name" value.

<img class="alignnone size-full wp-image-166" title="dbadmin14" src="/img/blog/dbadmin14.png" alt="" width="450" height="183" />

I then kept the remaining default options, including the selection of the two tables to forward engineer, and reviewed the pending SQL Script to be executed. After successfully completing the wizard, I could open an instance of the SQL Editor and browse my schema.

<img class="alignnone size-full wp-image-167" title="dbadmin15" src="/img/blog/dbadmin15.png" alt="" width="328" height="568" />

Sure enough my two tables, relationship included, were there.
<h2>Summary</h2>
While one of the key benefits of a PaaS is managed services, it's important to have the option to administer these application services using the powerful,  familiar management tools currently available to users. Both PostgreSQL and MySQL have solid management interfaces and we saw here how you can tunnel into these Iron Foundry database instances  and perform standard operations against your service.


</p>
                    <a href="/2012/09/26/administering-postgresql-and-mysql-application-instances-in-iron-foundry/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/08/22/iron-foundry-adds-microsoft-service-bus-as-a-new-application-service/">Iron Foundry Adds Microsoft Service Bus as a New Application Service</a></h2>
                    <div class="post-date">
                        Posted in how to guide, iron foundry, release, vmc,  &#183; August 22, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>Microsoft recently released a beta version of their <a href="http://msdn.microsoft.com/en-us/library/windowsazure/jj193027(v=azure.10).aspx" target="_blank">Service Bus for Windows</a> messaging technology, and the Iron Foundry team has now added this as an available service in Iron Foundry. The Service Bus for Windows is a scaled down version of the <a href="https://www.windowsazure.com/en-us/home/features/messaging/" target="_blank">Service Bus</a> product included in their Windows Azure cloud offering. The Service Bus for Windows, which supports brokered message through both traditional <a href="https://www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-queues/" target="_blank">Queues</a> and multi-subscriber <a href="https://www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-topics/" target="_blank">Topics</a>, provides Iron Foundry developers yet another option when building distributed applications.

Our awesome dev team followed the standard steps for adding new application services to a Cloud Foundry / Iron Foundry environment and also used a <a href="http://seroter.wordpress.com/2012/07/17/installing-and-testing-the-new-service-bus-for-windows/" target="_blank">previous write-up of mine</a> to guide the software installation. We’ve already updated the <a href="https://github.com/IronFoundry/vcap-services" target="_blank">vcap-services source code into Github</a> and you can clone the <a href="https://github.com/IronFoundry/vcap-services/tree/ironfoundry/mssb" target="_blank">mssb</a> (Microsoft Service Bus) directory today. There were also changes to the <a href="https://github.com/IronFoundry/ironfoundry/tree/master/src/IronFoundry.Dea" target="_blank">.NET DEA</a> to account for this new service and handing credentials back to the user. The Service Bus for Windows uses Microsoft SQL Server for its persistence tier, so we’ve tied the service to the instance of SQL Server that runs in Iron Foundry. <strong>Our hosted ironFoundry.me environment is running this today,</strong> and we’ve provisioned a shared Service Bus farm and host that holds each consumer’s individual namespace. Let’s see a demonstration of this in action!

To make life easier, we’ve built a sample web application that interacts with Service Bus Queues. We’ll start by looking at that application, and then deploy the application to Iron Foundry. The application contains a few ASP.NET Web Forms and a helper class. The helper class (<strong>QueueManager.cs</strong>)  contains a singleton that upon startup, parses Iron Foundry-provided URLs and credentials encoded as JSON in the application’s web.config file and uses those parameters to instantiate the core objects in the <a href="http://nuget.org/packages/ServiceBus.v1_0" target="_blank">Windows Service Bus SDK</a>.

<script src="https://gist.github.com/3429427.js"> </script>

Then we have some static operations for both sending to and receiving from the Service Bus Queue.

<script src="https://gist.github.com/3429452.js"> </script>

These operations are used in the pair of core ASP.NET pages to send and receive messages. Let’s now deploy this application to Iron Foundry and see how it works. Using vmc, I targeted the api.ironfoundry.me environment.

<img class="alignnone size-full wp-image-106" src="/img/blog/ironFoundryMssb02.png" alt="" width="450" height="236" />

I can confirm that the Service Bus for Windows is an available service by issuing a <strong>vmc services</strong> command.

<img class="alignnone size-full wp-image-107" src="/img/blog/ironFoundryMssb03.png" alt="" width="450" height="229" />

Great. Now let’s push this web application and provision an instance of this new service type. After publishing the ASP.NET web application to a file directory, I issued the <strong>vmc push</strong> command to start the deployment process.

<img class="alignnone size-full wp-image-108" src="/img/blog/ironFoundryMssb04.png" alt="" width="450" height="146" />

At this stage, I’m asked if I want to create a new service instance to bind to, or if I had already provisioned one, which instance I’d like to associate with. In this case, I have no existing services, so I’ll choose to create a new service.

<img class="alignnone size-full wp-image-109" src="/img/blog/ironFoundryMssb05.png" alt="" width="450" height="463" />

Within a matter of moments, my application is deployed and a new service instance is provisioned in the shared environment. This environment is not currently part of a Windows domain, so during service provisioning, a new local user is created and assigned to the developer’s own Service Bus namespace. All the URLs and credentials for the application are injected into the application’s web.config file. We can see this through vmc by viewing the file with the<strong> vmc files &lt;application name&gt; app/web.config</strong> command.

<img class="alignnone size-full wp-image-110" src="/img/blog/ironFoundryMssb06.png" alt="" width="450" height="451" />

These JSON-encoded values are then read by our application and used when authenticating the caller during Queue operations. Upon visiting the URL of the Iron Foundry application, we can see the option to send a message to a Queue.

<img class="alignnone size-full wp-image-111" src="/img/blog/ironFoundryMssb07.png" alt="" width="500" height="273" />

When we submit the message, it is added to a Queue, which means that it is persisted in a database. I then switch over to the “Receive” web form and choose to pull all of the messages from the Queue.

<img class="alignnone size-full wp-image-105" src="/img/blog/ironFoundryMssb08.png" alt="" width="500" height="253" />

The Service Bus for Windows is still in Beta, but we thought it would be fun to add this as an Iron Foundry service. You can <a href="/img/blog/IronFoundry.ServiceBusMessaging.WebUI_.zip" target="_blank">download the source code for this sample application from here</a>. Messaging is a core part of many modern web applications and the Service Bus for Windows gives Iron Foundry developers another way to link systems together.

<a rev="vote-for" href="http://dotnetshoutout.com/Iron-Foundry-Adds-Microsoft-Service-Bus-Support"><img alt="Shout it" src="http://dotnetshoutout.com/image.axd?url=http%3A%2F%2Fblog.ironfoundry.org%2F2012%2F08%2Firon-foundry-adds-microsoft-service-bus-as-a-new-application-service%2F" style="border:0px"/></a>


</p>
                    <a href="/2012/08/22/iron-foundry-adds-microsoft-service-bus-as-a-new-application-service/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/08/01/sync-with-cloud-foundry/">Sync with Cloud Foundry</a></h2>
                    <div class="post-date">
                        Posted in community, vcap, vmc, vmc.net,  &#183; August 01, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>On the Iron Foundry Project we are diligent about keeping up to date with any significant Cloud Foundry changes. With the recent refactoring the Cloud Foundry team has been working there has been a lot more to keep track of. For information on the Cloud Foundry side of things check out these write ups by Mark Lucovsky (<a href="http://blog.cloudfoundry.org/2012/04/27/cloud-foundry-roadmap-below-the-water-line/" target="_blank">Cloud Foundry Roadmap: Below the Water Line</a>, <a href="http://blog.cloudfoundry.org/2012/05/17/refactoring-the-vcap-repo/" target="_blank">Refactoring the VCAP Repo</a>, and <a href="http://blog.cloudfoundry.org/2012/06/20/heads-up-on-some-new-cloud-controller-features/" target="_blank">Heads Up on Some New Cloud Controller Features</a>).

To check out the changes, with appropriate <a href="http://ironfoundry.org/download" target="_blank">Iron Foundry</a> extensions, check out the <a href="https://github.com/IronFoundry" target="_blank">Iron Foundry Repositories</a>. If you'd like to try out your own custom deployment, the scripts have been updated accordingly also.

<strong>VMC CLI</strong>

One of the key things we've done in the last few weeks is change the vmc (<a href="http://docs.cloudfoundry.com/tools/vmc/vmc-quick-ref.html" target="_blank">usage information</a>) from preview release to a full release. So to get the latest Iron Foundry enabled vmc be sure to uninstall the previous version:
<script src="https://gist.github.com/3231458.js?file=vmc-IronFoundry uninstall"></script>

Then simply use gems to install the latest (<a href="http://help.ironfoundry.org/entries/21783872-managing-applications-from-the-command-line" target="_blank">KB Article Available</a>):
<script src="https://gist.github.com/3231458.js?file=vmc-IronFoundry Install"></script>

If ruby and gems isn't installed on Windows yet follow these quick steps.

Install Ruby for Windows from <a title="Ruby Installer" href="http://rubyinstaller.org/downloads/" target="_blank">Ruby Installer</a>. This is tested using version 1.9.3. During installation you can either add ruby to your PATH or add it manually later.

Run the following commands from a command prompt. You should ensure that ruby and sqlcmd are in your PATH as well.

Checking ruby version & installing on Windows:
<script src="https://gist.github.com/3231458.js?file=vmc-IronFoundry Windows Install"></script>


</p>
                    <a href="/2012/08/01/sync-with-cloud-foundry/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/04/05/caldecott-with-ms-sql-server/">Caldecott with MS SQL Server!</a></h2>
                    <div class="post-date">
                        Posted in community, how to guide, release, vmc,  &#183; April 05, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>Yesterday we launched our new testing environment that you can read about. With that announcement we added support for <a href="http://blog.cloudfoundry.com/post/12928974099/now-you-can-tunnel-into-any-cloud-foundry-data-service">Caldecott</a> which allows you to tunnel from your environment to services in the Cloud Foundry environment. Today we have enabled MS SQL support with <a href="http://blog.cloudfoundry.com/post/12928974099/now-you-can-tunnel-into-any-cloud-foundry-data-service">Caldecott</a> into our <a href="http://www.ironfoundry.org/signup" target="_blank">.ME environment</a> and also our own version of the Cloud Foundry VMC that has all of the Iron Foundry support built in.

<strong>Install VMC Iron Foundry</strong>

Install Ruby for Windows from <a title="Ruby Installer" href="http://rubyinstaller.org/downloads/" target="_blank">Ruby Installer</a>. This is tested using version 1.9.3. During installation you can either add ruby to your PATH or add it manually later.

Run the following commands from a command prompt. You should ensure that ruby and sqlcmd are in your PATH as well.

Checking ruby version:
<pre>C:\&gt;ruby --version
ruby 1.9.3p125 (2012-02-16) [i386-mingw32]</pre>
<pre>C:\&gt;gem install vmc-ironfoundry --pre</pre>
<strong>Caldecott and MS SQL</strong>

To use Caldecott on Iron Foundry from a Windows machine to connect to a provisioned MS SQL database, follow these steps.

Install Ruby for Windows from <a title="Ruby Installer" href="http://rubyinstaller.org/downloads/" target="_blank">Ruby Installer</a>. This is tested using version 1.9.3. During installation you can either add ruby to your PATH or add it manually later.

Run the following commands from a command prompt. You should ensure that ruby and sqlcmd are in your PATH as well.

Checking ruby version:
<pre>C:\&gt;ruby --version
ruby 1.9.3p125 (2012-02-16) [i386-mingw32]</pre>
Ensuring that sqlcmd.exe is in your PATH. If not, it is located by default at

C:\Program Files\Microsoft SQL Server\100\Tools\Binn\sqlcmd.exe
<pre>C:\&gt;sqlcmd /?
Microsoft (R) SQL Server Command Line Tool
Version 10.50.2500.0 NT x64
Copyright (c) Microsoft Corporation. All rights reserved.</pre>
Install the vmc-IronFoundry gem
<pre>C:\&gt;gem install vmc-IronFoundry --pre
Fetching: vmc-IronFoundry-0.3.16.IF.1.gem (100%)
Successfully installed vmc-IronFoundry-0.3.16.IF.1
1 gem installed
Installing ri documentation for vmc-IronFoundry-0.3.16.IF.1...
Installing RDoc documentation for vmc-IronFoundry-0.3.16.IF.1...</pre>
Target api.ironfoundry.me and log in to your account
<pre>C:\&gt;vmc target api.ironfoundry.me
Successfully targeted to [<a href="http://api.ironfoundry.me/">http://api.ironfoundry.me</a>]
C:\&gt;vmc login --email <a href="mailto:foo@bar.com">foo@bar.com</a> --passwd XXXYYYZZZ
Attempting login to [<a href="http://api.ironfoundry.me/">http://api.ironfoundry.me</a>]
Successfully logged into [<a href="http://api.ironfoundry.me/">http://api.ironfoundry.me</a>]</pre>
Provision an MS SQL database
<pre>C:\&gt;vmc create-service mssql
Creating Service [mssql-c902d]: OK</pre>
Tunnel to your database
<pre>C:\&gt;vmc tunnel mssql-c902d sqlcmd
Deploying tunnel application 'caldecott'.
Uploading Application:
 Checking for available resources: OK
 Packing application: OK
 Uploading (1K): OK
Push Status: OK
Binding Service [mssql-c902d]: OK
Staging Application 'caldecott': OK
Starting Application 'caldecott': OK
Getting tunnel connection info: OK
Service connection info:
 username : uxeBbNM0jYAFS
 password : psOmxGWibimeX
 name : d7dedaf7e01ae42568c07c44ec30bff99
Starting tunnel to mssql-c902d on port 10000.
Launching 'sqlcmd -S localhost,10000 -U uxeBbNM0jYAFS -P psOmxGWibimeX -d d7dedaf7e01ae42568c07c44ec30bff99'
1&gt;</pre>
You can now run commands from within sqlcmd against your database!
<pre>1&gt; select @@VERSION
2&gt; GO
Microsoft SQL Server 2008 R2 (SP1) - 10.50.2500.0 (X64)
 Jun 17 2011 00:54:03
 Copyright (c) Microsoft Corporation
 Enterprise Edition (64-bit) on Windows NT 6.1 &lt;X64&gt; (Build 7601: Service Pack 1) (Hypervisor)</pre>
In addition, you can use the displayed connection information to connect via SQL Management Studio. Just use localhost,10000 as the "Server name". Be sure to start the tunnel first and keep it open during the time you're using Management Studio. Quitting sqlcmd will close the tunnel.

<img src="http://help.ironfoundry.org/attachments/token/jzyoooizzrtrzfq/?name=connect_local.png" alt="connect_local.png" />


</p>
                    <a href="/2012/04/05/caldecott-with-ms-sql-server/">Read More</a>
                </div>
            </div>
        
    </div>
</div>

<hr />


	


<div class="row">    
    <div class="col-lg-6">
    
    </div>

    <div class="col-lg-6 text-right">
    
    </div>
</div>



<hr />
    </div>
    
    <div id="push"></div>
</div>
    
<footer>
    <div class="container">
    	<div class="row">
    		<div class="col-lg-12">
        <h4>Provided by Tier 3</h4>
        <p>Iron Foundry is a project initiated by <a href="http://www.tier3.com">Tier 3</a>, an enterprise cloud computing and hosting platform.</p>
        <p class="trademark"><a href="http://www.cloudfoundry.com" target="_blank">Cloud Foundry</a> and <a href="https://micro.cloudfoundry.com" target="_blank">Micro Cloud Foundry</a> are trademarks of <a href="http://pivotallabs.com" target="_blank">Pivotal Labs</a> in the United States and/or other jurisdictions.</p>
    		</div>
    	</div>
    </div>
</footer>

<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>

</body>
</html>