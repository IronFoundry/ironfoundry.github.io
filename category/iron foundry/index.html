<!DOCTYPE html>
<html lang="en">
<head>
    <title>Blog - Iron Foundry</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<link href="/stylesheets/bootstrap.css" rel="stylesheet">
<script type="text/javascript" src="http://use.typekit.net/xvy7ell.js"></script> <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4936699-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body>

<div id="wrap">
    <header class="header-short backsplash blog">
        <div class="container menu">
            <div class="navbar">
  <div class="container">
  	<!-- .navbar-toggle is used as the toggle for collapsed navbar content -->
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <div class="navbar-brand"><a href="/"><img src="/img/logo-ironfoundry.png" alt="Iron Foundry" /></a></div>
    <div class="nav-collapse collapse navbar-responsive-collapse">
      <ul class="nav navbar-nav menu pull-right">
          
            
            
            

            <li class="">
              <a href="http://app.ironfoundry.me/download">Downloads</a>
            </li>
          
            
            
            

            <li class="">
              <a href="http://app.ironfoundry.me/signup">Sign Up</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/blog">Blog</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/help">Help</a>
            </li>
          
            
            
            

            <li class="">
              <a href="/about">About</a>
            </li>
          
          <li class="fork"><iframe src="http://ghbtns.com/github-btn.html?user=IronFoundry&repo=IronFoundry&type=fork&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="81" height="31"></iframe></li>
      </ul>
    </div>
  </div>
</div>
        </div>
        <div class="container">
            <div class="row hero">
                <h1 class="text-center">BLOG</h1>
            </div>
        </div>
        <div class="container photo-credit hidden-xs">
            <div class="photo-author">photo by Nathan Young</div>
        </div>
    </header>
        
    <div class="container content-container">
        <div class="row">
    <div class="col-lg-10">
		
			<h2>Category: 'iron foundry'</h2>		
		
		<hr />

        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/08/29/thor-v2-is-underway-with-thor-dotnet-close-behind/">Thor v2 is underway, with Thor.NET close behind</a></h2>
                    <div class="post-date">
                        Posted in thor, .net, iron foundry, cloud foundry,  &#183; August 29, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p>We’ve heard a great, positive response to the <a href="http://www.ironfoundry.org/2013/08/10/manage-cloud-foundry-from-osx-with-thor/" target="_blank">release of Thor</a>, and we’ve started work on Thor v2 which will be compliant with Cloud Foundry v2 environments. We’re also getting going on Thor.NET so that Windows developers can also get in on the Cloud Foundry fun.</p>



</p>
                    <a href="/2013/08/29/thor-v2-is-underway-with-thor-dotnet-close-behind/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/08/10/manage-cloud-foundry-from-osx-with-thor/">Manage Cloud Foundry from OSX with Thor</a></h2>
                    <div class="post-date">
                        Posted in thor, iron foundry, release, cloud foundry,  &#183; August 10, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p>We're excited to announce that a stable release of the OSS Thor client is ready to go! Thor is a OSX client tool for managing <strong>ANY</strong> Cloud Foundry v1 environment. You can <a href="https://github.com/IronFoundry/Thor" target="_blank">view (and contribute!) to the source code</a>, or download a ready-to-use, <a href="http://app.ironfoundry.me/download/get/28745936-f900-e211-9f38-00505696004e" target="_blank">compiled version</a>.</p>

</p>
                    <a href="/2013/08/10/manage-cloud-foundry-from-osx-with-thor/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/07/02/deploy-net-apps-to-cloud-foundry-v2-with-iron-foundry/">Deploy .NET Apps to Cloud Foundry v2 with Iron Foundry</a></h2>
                    <div class="post-date">
                        Posted in dea.net, iron foundry, release,  &#183; July 02, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p>The Pivotal team recently made a significant upgrade to Cloud Foundry, changing how applications are <a href="http://docs.cloudfoundry.com/docs/running/architecture/" target="_blank">deployed, staged, isolated, and routed</a>. In order to work with this new model, Iron Foundry had to undergo some re-engineering work. <strong>Today, we’re proud to announce an initial release of a Cloud Foundry v2-compliant build of<a href="http://ironfoundry.org/download" target="_blank"> Iron Foundry</a>.</strong></p>

</p>
                    <a href="/2013/07/02/deploy-net-apps-to-cloud-foundry-v2-with-iron-foundry/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/02/28/micro-iron-foundry-image-updated-and-ready-for-use/">Micro Iron Foundry Image Updated and Ready for Use</a></h2>
                    <div class="post-date">
                        Posted in dea.net, iron foundry, micro iron instance, vmc,  &#183; February 28, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p><a href="http://ironfoundry.org/download" target="_blank">Micro Iron Foundry</a> is a VM image that makes it easy to add the .NET DEA to <a href="https://micro.cloudfoundry.com/" target="_blank">Micro Cloud Foundry</a> development environments. This powerful combination helps developers design their Cloud Foundry solutions locally before pushing to any number of public hosting providers.</p>

</p>
                    <a href="/2013/02/28/micro-iron-foundry-image-updated-and-ready-for-use/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2013/01/09/new-support-for-developers-using-visual-studio-2012/">New Support for Developers Using Visual Studio 2012</a></h2>
                    <div class="post-date">
                        Posted in cloud foundry explorer, iron foundry, visual studio extension,  &#183; January 09, 2013 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p>Iron Foundry developers are likely to use a whole host of different IDEs to build and deploy applications. For those building .NET applications, Visual Studio is likely the development environment of choice. Iron Foundry developers can now push and manage apps directly from Visual Studio 2012 using the <a href="http://ironfoundry.org/download" target="_blank">upgraded Visual Studio Extension</a>.</p>

</p>
                    <a href="/2013/01/09/new-support-for-developers-using-visual-studio-2012/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Richard Seroter
                            
                        </div>
                        
                            <div class="author-url"><a href="http://www.twitter.com/rseroter">@rseroter</a></div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/11/08/building-iron-foundry-apps-that-leverage-windows-azure-acs-for-user-authentication/">Building Iron Foundry Apps that Leverage Windows Azure ACS for User Authentication</a></h2>
                    <div class="post-date">
                        Posted in how to guide, iron foundry,  &#183; November 08, 2012 
                        	<div class="hidden-lg">
                        	
                                 by Richard Seroter
                            
                            
	                            <a href="http://www.twitter.com/rseroter">@rseroter</a>
	                        
                            </div>
                    </div>
                    <p><p>Iron Foundry and other PaaS frameworks are built to deliver a set of services to developers for building applications. While we think Iron Foundry has a great set of web, data and messaging services available, it by no means includes everything that a developer can use to craft a cool web app. Ideally, a developer can mix and match services from multiple PaaS providers in order to get everything that’s needed to solve a particular problem. For instance, what if an Iron Foundry developer wants to build a .NET application that lets users log in with credentials from a trusted provider? In this blog post, <strong>I’ll show you how to do user authentication/authorization in an Iron Foundry ASP.NET app by using the Windows Azure Access Control Service (ACS)</strong>.</p>

<h3>What is Windows Azure ACS?</h3>
<p><a href="http://msdn.microsoft.com/library/gg429786.aspx" target="_blank">Windows Azure ACS</a> is essential a claims transformation engine that connects to trusted web identity providers (e.g. Facebook, Google, Windows Live, Yahoo) and custom identity providers (e.g. through Active Directory Federation Services), and authenticates the user before passing along a set of claims to your web application. It provides developers a way to outsource the identity management part of their application. ACS itself doesn’t store credentials or act as an identity provider, but rather, it acts as a middleman that can take a series of input claims (e.g. “Google username”, “Windows logon ID”) and transform them into a single claim (“user ID”) used by your app. It’s a cool way to get your application out of the business of handling unique identity providers or storing credentials.</p>

<p>Let’s walk through the steps to building a simple, secure web app that we can deploy to Iron Foundry.</p>
<h3>Step 1 - Create new ASP.NET MVC 4 (internet) application</h3>
<p>To get started, I built a new ASP.NET MVC application in Visual Studio 2012.</p>

<img title="2012-11-07-compapp01" src="/img/blog/2012-11-07-compapp01.png" alt="2012-11-07-compapp01" width="600" height="543" border="0" />

<p>Once the project was created from the MVC4 template, I simply built it and ran it. You can see the default website and notice that I can register for an account. At this point, what this does is store my credentials in the default membership provider (which is a local database). I don’t want that as my long term solution. I want to let users log in with their web identity provider of choice.</p>

<img title="2012-11-07-compapp02" src="/img/blog/2012-11-07-compapp02.png" alt="2012-11-07-compapp02" width="500" height="281" border="0" />

<h3>2. Configure Access Control Service to Recognize Our Iron Foundry Application</h3>
<p>Virtually every Windows Azure service has migrated from the clunky Silverlight portal to the new, clean HTML portal. Unfortunately, Windows Azure ACS still lives in the old portal. Once I regretfully logged into it, I saw the options to add/configure identity providers, set up the relying party applications (like the one I created), and define the claims transformation rules.</p>

<img title="2012-11-07-compapp08" src="/img/blog/2012-11-07-compapp08.png" alt="2012-11-07-compapp08" width="500" height="403" border="0" />

<p>If I wanted to add ADFS as a valid identity provider, I could do that here. Instead, since I used existing web identity providers, I could jump right to the “relying party applications” section. On the first part of this form, I set the friendly name of the application, and the URL that will receive the claims. Initially (until I deployed to Iron Foundry) this was a local address on my machine.</p>

<img title="2012-11-07-compapp09" src="/img/blog/2012-11-07-compapp09.png" alt="2012-11-07-compapp09" width="450" height="437" border="0" />

<p>Further down this form, I was asked which (configured) identity providers I wished to use, whether or not to create a new set of claims transformation rules, and what certificate to use for signing the tokens.</p>

<img title="2012-11-07-compapp10" src="/img/blog/2012-11-07-compapp10.png" alt="2012-11-07-compapp10" width="300" height="323" border="0" />

<p>After saving my relying party entry, I jumped to the “Rule Groups” section of this portal to configure the transformation rules. I chose the option to “generate rules” for all the available identity providers, and was left with a series of “passthrough” rules that take whatever claim value was issued by the identity provider and ships it, as is, to my application.</p>

<img title="2012-11-07-compapp11" src="/img/blog/2012-11-07-compapp11.png" alt="2012-11-07-compapp11" width="350" height="440" border="0" />

<p>An individual one of these rules, such as the “Google name” one, has an input claim type and value, and an output claim type and value. While the one below has the same type and passthrough value, you can imagine how you might have three different providers with different input claim types/values all map to a single, internally-defined claim type and/or value.</p>

<img title="2012-11-07-compapp12" src="/img/blog/2012-11-07-compapp12.png" alt="2012-11-07-compapp12" width="450" height="490" border="0" />

<h3>3. Configure ASP.NET App to use ACS for Identity Management</h3>
<p>With my ACS configuration complete (for now), I returned to Visual Studio 2012 to make it “ACS aware.” Now there is a great new tool for Visual Studio 2012 and the latest Windows Identification Foundation bits (which you can see by grabbing the <a href="http://visualstudiogallery.msdn.microsoft.com/e21bf653-dfe1-4d81-b3d3-795cb104066e" target="_blank">Identity and Access Tools</a>), but since Iron Foundry doesn’t yet support .NET 4.5, I wasn’t able to use the wizard tooling. The latest WIF only applies to .NET 4.5, so I jumped back to using WIF 3.5. To easily grab this version, simply add the NuGet package for <strong>Windows Identification Foundation</strong> to a project.</p>

<img title="2012-11-07-compapp22" src="/img/blog/2012-11-07-compapp22.png" alt="2012-11-07-compapp22" width="450" height="257" border="0" />

<p>With all the proper assemblies in place, I then manually updated my web.config file to reflect my use of WIF and ACS. You can find my complete web.config file below. To learn more about the significance of each section, I’d recommend the blog post <a href="http://blogs.msdn.com/b/alikl/archive/2010/10/06/windows-identity-foundation-wif-configuration-sections-in-asp-net-web-config.aspx" target="_blank">Windows Identity Foundation (WIF) Configuration Sections in ASP.NET Web.Config</a>.</p>
<script src="https://gist.github.com/4040128.js"> </script>

<p>That’s about it. Clearly if I wanted to customize the handling of these claims (e.g. show the value of a claim besides “name” on the home page), there’s additional work I’d want to do in my code. When I ran this application, I was quickly prompted for credentials and the ACS site served up a page for me to select which identity provider to use.</p>

<img title="2012-11-07-compapp14" src="/img/blog/2012-11-07-compapp14.png" alt="2012-11-07-compapp14" width="450" height="340" border="0" />

<p>When I chose the Google provider, I was redirected to the Google accounts page and asked to log in.</p>

<img title="2012-11-07-compapp15" src="/img/blog/2012-11-07-compapp15.png" alt="2012-11-07-compapp15" width="450" height="262" border="0" />

<p>Once I logged into my account, I was returned to my custom web app which recognized that I was now authenticated!</p>

<img title="2012-11-07-compapp16" src="/img/blog/2012-11-07-compapp16.png" alt="2012-11-07-compapp16" width="450" height="396" border="0" />

<p>To prove that this is an account that wasn’t managed by my application itself, I clicked on my name to “manage” my user. I was presented a message indicating that there’s no local password for this user, as the identity provider was NOT my local membership provider.</p>

<img title="2012-11-07-compapp17" src="/img/blog/2012-11-07-compapp17.png" alt="2012-11-07-compapp17" width="450" height="219" border="0" />

<h3>4. Update and Deploy the App to Iron Foundry Environment</h3>
<p>The final task was to update the ASP.NET application and ACS configurations before deploying the application to Iron Foundry. First, I returned to the Windows Azure ACS portal to change the “realm” of the relying party entry that I created for my custom application. I planned on deploying this application to the <a href="http://ironfoundry.org/signup" target="_blank">free IronFoundry.me</a> environment, so I entered the expected destination of the application.</p>

<img title="2012-11-07-compapp18" src="/img/blog/2012-11-07-compapp18.png" alt="2012-11-07-compapp18" width="450" height="350" border="0" />

<p>After saving this change, I returned to my Visual Studio project and entered that same IronFoundry.me URL into the web.config file where the “localhost” value had been before. After publishing the website to the file system and executing a Cloud Foundry <strong>vmc push</strong> command from my Command console, my app was quickly deployed.</p>

<img title="2012-11-07-compapp20" src="/img/blog/2012-11-07-compapp20.png" alt="2012-11-07-compapp20" width="500" height="253" border="0" />

<p>Did it work? I browsed my newly published app on Iron Foundry, and just as with the local site, I was prompted for which identity provider to use. After selecting Google and plugging in my credentials, I saw my logged in user on the website.</p>

<img title="2012-11-07-compapp21" src="/img/blog/2012-11-07-compapp21.png" alt="2012-11-07-compapp21" width="500" height="489" border="0" />

<p>Cool! This is a fun case of being able to use the public/private Iron Foundry PaaS but still take advantage of other useful services offered by other PaaS solutions.</p>

</p>
                    <a href="/2012/11/08/building-iron-foundry-apps-that-leverage-windows-azure-acs-for-user-authentication/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/10/30/thor-thor-net-and-vcap-client-status-updates/">Windows 8 & RT Discussions, Thor, Thor .NET and vcap-client Status Updates</a></h2>
                    <div class="post-date">
                        Posted in iron foundry, thor, vcap,  &#183; October 30, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>A few updates from the teams:
<h2>Thor</h2>
<p>Thor is moving along with implementation of services starting yesterday (Monday). You can view our live <a href="http://huboard.com/IronFoundry/Thor/board" target="_blank">Huboard Kanban</a> to see what is currently being worked on. The interface in the last few weeks has gotten a faster, cleaner appearance and stabilized even more around deploying and maintaining your Cloud Foundry based environments.</p>

</p>
                    <a href="/2012/10/30/thor-thor-net-and-vcap-client-status-updates/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/10/10/ironfoundry-me-environment-now-running-latest-iron-foundry-bits/">IronFoundry.ME Environment Now Running Latest Iron Foundry Bits</a></h2>
                    <div class="post-date">
                        Posted in iron foundry, test environment, vmc,  &#183; October 10, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>Last weekend, we <a href="http://blog.ironfoundry.org/2012/10/weekend-iron-foundry-work-downtime-window/" target="_blank">did a refresh</a> of the sandbox <a href="http://api.ironfoundry.me/" target="_blank">IronFoundry.ME</a> environment to make sure that it was running the latest Iron Foundry bits. As part of that update, we've enabled and upgraded a few interesting things.

</p>
                    <a href="/2012/10/10/ironfoundry-me-environment-now-running-latest-iron-foundry-bits/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/10/03/iron-foundry-vcap-client-aka-the-net-cloud-foundry-vcap-client/">Iron Foundry vcap-client (AKA The .NET Cloud Foundry vcap-client)</a></h2>
                    <div class="post-date">
                        Posted in how to guide, iron foundry, vcap,  &#183; October 03, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p><a href="http://www.nuget.org/packages/IronFoundry-VcapClient" rel="attachment wp-att-177"><img class="size-full wp-image-177 alignright" src="/img/blog/nuget_35366349.png" alt="" width="229" height="64" /></a>Ever want to write code against the Cloud Foundry API but you don't want to go to the trouble of wrapping up the API calls with library? Well, have no fear there's no need to! With dilligent work from the Iron Foundry team, a few suggestions from outside, and a few contributions from the community we've pulled this together for you. Here's a step by step of what we've accomplished in the last week to bring a solid, clean and tested library to you.

</p>
                    <a href="/2012/10/03/iron-foundry-vcap-client-aka-the-net-cloud-foundry-vcap-client/">Read More</a>
                </div>
            </div>
        
            <div class="row post-index">
                <div class="col-lg-4 visible-lg">
                    <div class="author-info pull-right">
                        <div class="author-name">
                            
                                Iron Foundry
                            
                        </div>
                        
                    </div>
                </div>
                <div class="col-lg-8 post">
                    <h2><a href="/2012/09/26/administering-postgresql-and-mysql-application-instances-in-iron-foundry/">Managing PostgreSQL and MySQL Application Instances in Iron Foundry</a></h2>
                    <div class="post-date">
                        Posted in how to guide, iron foundry, release, vmc,  &#183; September 26, 2012 
                        	<div class="hidden-lg">
                        	
                            
                            </div>
                    </div>
                    <p>One reasonable concern with PaaS platforms is whether or not developers can easily access and administer backend application services. Iron Foundry database services such as PostgreSQL and MySQL have very strong management tools that you don't want to abandon when working with a PaaS instance. In this post, we'll look at how to wire up existing database management tools to PostgreSQL and MySQL.
<h2>PostgreSQL</h2>
PostgreSQL (discussed in this <a href="http://blog.ironfoundry.org/2012/08/choosing-the-right-database-option-for-your-iron-foundry-applications/" target="_blank">previous Iron Foundry blog post</a>), is a very popular open source database. Developers or database administrators typically use the <a href="http://www.pgadmin.org/" target="_blank">pgAdmin tool</a> to author and debug <a href="http://www.pgadmin.org/docs/1.16/query.html" target="_blank">queries</a>, perform database <a href="http://www.pgadmin.org/docs/1.16/backup.html" target="_blank">backups</a>/<a href="http://www.pgadmin.org/docs/1.16/restore.html" target="_blank">restorations</a>, <a href="http://www.pgadmin.org/docs/1.16/maintenance.html" target="_blank">reindex and cleanup (VACUUM) data</a>,  manage <a href="http://www.pgadmin.org/docs/1.16/pgagent-jobs.html" target="_blank">server jobs</a>, and much more.

You can download the pgAdmin tool <a href="http://www.pgadmin.org/download/" target="_blank">directly</a>, or find it included in the <a href="http://www.enterprisedb.com/products-services-training/pgdownload" target="_blank">PostgreSQL package</a> itself. For this demonstration, I installed PostgreSQL locally and got the pgAdmin tool along with it. After installing the database software, I opened a command prompt on my Windows machine and targeted my Iron Foundry environment.

<img class="alignnone size-full wp-image-152" title="dbadmin01" src="/img/blog/dbadmin01.png" alt="" width="450" height="289" />

After authenticating myself, I issued a vmc command ("<strong>vmc services</strong>") to see which application services were available, and which services I had already provisioned.

<img class="alignnone size-full wp-image-153" title="dbadmin02" src="/img/blog/dbadmin02.png" alt="" width="450" height="242" />

So far, no application services were provisioned. Let's change that. I created a new PostgreSQL instance by issuing the vmc command <strong>vmc create-service postgresql</strong>. Note that I didn't need to bind it to an application and can simply create a standalone instance that could be used by many Iron Foundry web applications.

<img class="alignnone size-full wp-image-154" title="dbadmin03" src="/img/blog/dbadmin03.png" alt="" width="450" height="303" />

Now there was a running instance of PostgreSQL in my environment. At this stage, there was no way for the pgAdmin tool to access this instance. However, thanks to the Cloud Foundry <a href="http://blog.ironfoundry.org/2012/04/caldecott-with-ms-sql-server/" target="_blank">Caldecott</a> technology, I could create a secure tunnel for pgAdmin. The <strong>vmc tunnel &lt;instance name&gt;</strong> command opens up a port that pgAdmin can use to administer that database server.

<img class="alignnone size-full wp-image-155" title="dbadmin04" src="/img/blog/dbadmin04.png" alt="" width="450" height="284" />

I could have chosen to use the psql client which would have let me issue commands right here in the command prompt, but since I wanted to use the full-featured pgAdmin tool, I selected the "none" client. Notice that I got four key pieces of information back: username, password, name and port. Together, these data points will get us logged into our environment.

I opened the pgAdmin tool and could see that the only server currently recognized was the one on my local machine.

<img class="alignnone size-full wp-image-156" title="dbadmin05" src="/img/blog/dbadmin05.png" alt="" width="450" height="330" />

I clicked the "Add a connection to a server" and was shown the "New Server Registration" prompt. For the "Name" value, I used the "name" that came back from the tunnel command; for "Host" value I set it to "localhost"; for the "Port" I used "10000"; and for the Username and Password, I used the corresponding values returned by the tunnel command.

<img class="alignnone size-full wp-image-157" title="dbadmin06" src="/img/blog/dbadmin06.png" alt="" width="450" height="470" />

Once connected, I could navigate all the database artifacts and browse the standard options for backing up data, querying tables, and creating new tables.

<img class="alignnone size-full wp-image-158" title="dbadmin07" src="/img/blog/dbadmin07.png" alt="" width="450" height="330" />

The pgAdmin tool is a very handy and useful way to manage your database artifacts and Iron Foundry makes it easy to use this tool against your application services.
<h2>MySQL</h2>
MySQL is also a very popular open source database and we want to make sure that database developers and administrators can use familiar tooling even if their application instance sits in a PaaS like Iron Foundry.

The MySQL team has made significant investments in their Workbench tool, and here we'll see exactly how you hook the Workbench up to an Iron Foundry instance. First, I downloaded the<a href="http://dev.mysql.com/downloads/workbench/5.2.html" target="_blank"> standalone Workbench tool</a>.

Then, I added a new MySQL instance to my Iron Foundry environment by using the <strong>vmc create-service mysql</strong> command.

<img class="alignnone size-full wp-image-159" title="dbadmin08" src="/img/blog/dbadmin08.png" alt="" width="450" height="312" />

Like the PostgreSQL example prior, I created a tunnel so that the MySQL Workbench tool could "see" our Iron Foundry instance. As before, I also chose the "none" client so that I could connect the GUI tool instead of issuing command statements only.

<img class="alignnone size-full wp-image-162" title="dbadmin09" src="/img/blog/dbadmin091.png" alt="" width="450" height="300" />

Notice that I got back database credentials ("username"/"password"), a schema instance name ("name"), and a port number.

I was now ready to connect the MySQL Workbench to my database instance. The Workbench has three core functions: <a href="http://dev.mysql.com/doc/workbench/en/wb-sql-development.html" target="_blank">SQL development</a>, <a href="http://dev.mysql.com/doc/workbench/en/wb-data-modeling.html" target="_blank">data modeling</a>, and <a href="http://dev.mysql.com/doc/workbench/en/wb-server-administration.html" target="_blank">server administration</a>.

<img class="alignnone size-full wp-image-161" title="dbadmin10" src="/img/blog/dbadmin10.png" alt="" width="450" height="328" />

In this example, I created a new pair of tables, and deployed them to the database instance in Iron Foundry. In the Workbench, I clicked the "Create New EER Model" in order to generate a data model. The first thing that I did was right-click the schema name and choose "Edit Schema." On the subsequent window, I changed the default "mydb" name to the the "name" value returned by the vmc tunnel command.

<img class="alignnone size-full wp-image-163" title="dbadmin11" src="/img/blog/dbadmin11.png" alt="" width="450" height="328" />

I then chose to add a new diagram to the model and proceeded to create a pair of new tables, "customer" and "order", and defined a relationship between them.

<img class="alignnone size-full wp-image-164" title="dbadmin12" src="/img/blog/dbadmin12.png" alt="" width="450" height="494" />

With the model complete, I chose the "Forward Engineer" option so that this model could be used to generate the actual tables.

<img class="alignnone size-full wp-image-165" title="dbadmin13" src="/img/blog/dbadmin13.png" alt="" width="450" height="267" />

I was then prompted to create an actual connection to the target database, and this is where the tunnel-provided values came into play. I plugged in the username and password, and set the Hostname value to "localhost" and the Default Schema to the tunnel-provided "name" value.

<img class="alignnone size-full wp-image-166" title="dbadmin14" src="/img/blog/dbadmin14.png" alt="" width="450" height="183" />

I then kept the remaining default options, including the selection of the two tables to forward engineer, and reviewed the pending SQL Script to be executed. After successfully completing the wizard, I could open an instance of the SQL Editor and browse my schema.

<img class="alignnone size-full wp-image-167" title="dbadmin15" src="/img/blog/dbadmin15.png" alt="" width="328" height="568" />

Sure enough my two tables, relationship included, were there.
<h2>Summary</h2>
While one of the key benefits of a PaaS is managed services, it's important to have the option to administer these application services using the powerful,  familiar management tools currently available to users. Both PostgreSQL and MySQL have solid management interfaces and we saw here how you can tunnel into these Iron Foundry database instances  and perform standard operations against your service.


</p>
                    <a href="/2012/09/26/administering-postgresql-and-mysql-application-instances-in-iron-foundry/">Read More</a>
                </div>
            </div>
        
    </div>
</div>

<hr />


	


<div class="row">    
    <div class="col-lg-6">
    
    </div>

    <div class="col-lg-6 text-right">
    
        <a href="/category/iron foundry/page2">older posts</a>
    
    </div>
</div>



<hr />
    </div>
    
    <div id="push"></div>
</div>
    
<footer>
    <div class="container">
    	<div class="row">
    		<div class="col-lg-12">
        <h4>Provided by Tier 3</h4>
        <p>Iron Foundry is a project initiated by <a href="http://www.tier3.com">Tier 3</a>, an enterprise cloud computing and hosting platform.</p>
        <p class="trademark"><a href="http://www.cloudfoundry.com" target="_blank">Cloud Foundry</a> and <a href="https://micro.cloudfoundry.com" target="_blank">Micro Cloud Foundry</a> are trademarks of <a href="http://pivotallabs.com" target="_blank">Pivotal Labs</a> in the United States and/or other jurisdictions.</p>
    		</div>
    	</div>
    </div>
</footer>

<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>

</body>
</html>